/**
 * Default Intervention Triggers Configuration
 * å¹²é¢„è§¦å‘å™¨é»˜è®¤é…ç½®
 */

import type { InterventionTrigger } from '../types/planner';

export const DEFAULT_TRIGGERS: InterventionTrigger[] = [
  // ========== 2å°æ—¶æ— äº§å‡º ==========
  {
    id: 'idle-2h',
    type: 'idle_too_long',
    condition: {
      metric: 'timeSinceLastCompletion',
      operator: '>',
      threshold: 120, // 2 å°æ—¶ = 120 åˆ†é’Ÿ
    },
    response: {
      level: 'friend',
      message: 'å˜¿ï¼Œå¥½åƒæœ‰ä¸€æ®µæ—¶é—´æ²¡åŠ¨é™äº† ğŸ± éœ€è¦èŠèŠå—ï¼Ÿæˆ–è€…åªæ˜¯åœ¨ä¼‘æ¯ï¼Ÿ',
      escalateAfter: 30, // 30 åˆ†é’Ÿåå‡çº§åˆ° Coach
    },
    cooldown: 60, // 1 å°æ—¶å†·å´
    enabled: true,
  },

  // ========== DDL æ¨è¿Ÿå¤šæ¬¡ ==========
  {
    id: 'deadline-postponed',
    type: 'deadline_postponed_twice',
    condition: {
      metric: 'custom', // éœ€è¦ç‰¹æ®Šæ£€æŸ¥é€»è¾‘
      operator: '>=',
      threshold: 2,
    },
    response: {
      level: 'coach',
      message: 'æˆ‘æ³¨æ„åˆ°è¿™ä¸ªä»»åŠ¡çš„æˆªæ­¢æ—¥æœŸå·²ç»æ¨è¿Ÿäº†å¥½å‡ æ¬¡ã€‚æˆ‘ä»¬æ¥èŠèŠæ˜¯ä»€ä¹ˆé˜»ç¢äº†è¿›å±•ï¼Ÿä¹Ÿè®¸æˆ‘èƒ½å¸®ä½ æ‰¾åˆ°çªç ´å£ã€‚',
      coachPrompt: `ç”¨æˆ·æœ‰ä¸€ä¸ªä»»åŠ¡çš„ DDL è¢«æ¨è¿Ÿäº†å¤šæ¬¡ã€‚è¯·å¸®åŠ©åˆ†æï¼š
1. å¯èƒ½çš„é˜»ç¢å› ç´ æ˜¯ä»€ä¹ˆï¼Ÿ
2. ä»»åŠ¡æ˜¯å¦å¤ªå¤§éœ€è¦æ‹†åˆ†ï¼Ÿ
3. æ˜¯å¦æœ‰å®Œç¾ä¸»ä¹‰æˆ–æ‹–å»¶æ¨¡å¼ï¼Ÿ
4. å»ºè®®å…·ä½“çš„ä¸‹ä¸€æ­¥è¡ŒåŠ¨`,
    },
    cooldown: 180, // 3 å°æ—¶å†·å´
    enabled: true,
  },

  // ========== ä»Šæ—¥å®Œæˆç‡ä½ï¼ˆæ™šé—´ï¼‰ ==========
  {
    id: 'low-daily-completion-evening',
    type: 'low_daily_completion',
    condition: {
      metric: 'todayCompletionRate',
      operator: '<',
      threshold: 60,
      timeWindow: { start: '18:00', end: '23:59' },
    },
    response: {
      level: 'coach',
      message: 'ä»Šå¤©çš„è¿›åº¦æœ‰ç‚¹è½åäº† ğŸ“Š æˆ‘ä»¬æ¥çœ‹çœ‹èƒ½ä¸èƒ½è°ƒæ•´ä¸€ä¸‹è®¡åˆ’ï¼Ÿæœ‰äº›ä»»åŠ¡å¯èƒ½å¯ä»¥ç§»åˆ°æ˜å¤©ã€‚',
      coachPrompt: `ç”¨æˆ·ä»Šæ—¥å®Œæˆç‡è¾ƒä½ï¼Œæ—¶é—´å·²æ˜¯æ™šé—´ã€‚è¯·å¸®åŠ©ï¼š
1. è¯„ä¼°å‰©ä½™ä»»åŠ¡çš„ä¼˜å…ˆçº§
2. å»ºè®®å“ªäº›ä»»åŠ¡ä»Šå¤©å¿…é¡»å®Œæˆ
3. å“ªäº›å¯ä»¥å®‰å…¨åœ°ç§»åˆ°æ˜å¤©
4. ç»™å‡ºå…·ä½“çš„è¡ŒåŠ¨å»ºè®®`,
    },
    cooldown: 240, // 4 å°æ—¶å†·å´ï¼ˆåŸºæœ¬ä¸Šä»Šå¤©ä¸ä¼šå†è§¦å‘ï¼‰
    enabled: true,
  },

  // ========== å‰¯æœ¬å¤„äºé£é™© ==========
  {
    id: 'quest-at-risk',
    type: 'quest_at_risk',
    condition: {
      metric: 'atRiskQuests',
      operator: 'has_items',
      threshold: 0,
    },
    response: {
      level: 'coach',
      message: 'æœ‰äº›å‰¯æœ¬å¯èƒ½æ¥ä¸åŠæŒ‰æ—¶å®Œæˆäº† âš ï¸ æˆ‘ä»¬éœ€è¦åšä¸€äº›å–èˆå†³å®šã€‚ä½ æ„¿æ„å’Œæˆ‘è®¨è®ºä¸€ä¸‹å—ï¼Ÿ',
      coachPrompt: `æœ‰å‰¯æœ¬å¤„äºé£é™©çŠ¶æ€ï¼Œå¯èƒ½æ— æ³•æŒ‰æ—¶å®Œæˆã€‚è¯·å¸®åŠ©ç”¨æˆ·ï¼š
1. åˆ†ææ¯ä¸ªé£é™©å‰¯æœ¬çš„æƒ…å†µ
2. è¯„ä¼°æ˜¯å¦éœ€è¦å‰ªæï¼ˆæ”¾å¼ƒæˆ–é™çº§ï¼‰
3. å¦‚æœè¦ä¿ç•™ï¼Œéœ€è¦ä»€ä¹ˆè°ƒæ•´
4. ä½¿ç”¨ MoSCoW æ¡†æ¶å¸®åŠ©å†³ç­–`,
    },
    cooldown: 360, // 6 å°æ—¶å†·å´
    enabled: true,
  },

  // ========== è¿›åº¦ä¸¥é‡æ»å ==========
  {
    id: 'progress-behind',
    type: 'progress_severely_behind',
    condition: {
      metric: 'overdueTasksCount',
      operator: '>=',
      threshold: 3,
    },
    response: {
      level: 'coach',
      message: 'çœ‹èµ·æ¥æœ‰å¥½å‡ ä¸ªä»»åŠ¡é€¾æœŸäº† ğŸ˜Ÿ æˆ‘ä»¬æ¥ä¸€èµ·çœ‹çœ‹æ€ä¹ˆå¤„ç†ï¼Ÿä¸è¦å¤ªæ‹…å¿ƒï¼Œæˆ‘ä»¬å¯ä»¥é‡æ–°è§„åˆ’ã€‚',
      coachPrompt: `ç”¨æˆ·æœ‰å¤šä¸ªé€¾æœŸä»»åŠ¡ã€‚è¯·å¸®åŠ©ï¼š
1. ä¼˜å…ˆçº§æ’åº - å“ªäº›æœ€ç´§æ€¥
2. å“ªäº›å¯ä»¥å–æ¶ˆæˆ–æ¨è¿Ÿ
3. æ˜¯å¦æœ‰ç³»ç»Ÿæ€§é—®é¢˜ï¼ˆä»»åŠ¡å¤ªå¤šï¼Ÿä¼°æ—¶ä¸å‡†ï¼Ÿï¼‰
4. åˆ¶å®šä¸€ä¸ªçŸ­æœŸæ¢å¤è®¡åˆ’`,
    },
    cooldown: 240,
    enabled: true,
  },

  // ========== å‰¯æœ¬é€¾æœŸ ==========
  {
    id: 'quest-overdue',
    type: 'quest_overdue',
    condition: {
      metric: 'overdueQuestsCount',
      operator: '>=',
      threshold: 1,
    },
    response: {
      level: 'coach',
      message: 'æœ‰å‰¯æœ¬å·²ç»é€¾æœŸäº† â° æˆ‘ä»¬æ¥çœ‹çœ‹æ˜¯å»¶æœŸã€è°ƒæ•´èŒƒå›´è¿˜æ˜¯å½’æ¡£ï¼Ÿ',
      coachPrompt: `æœ‰å‰¯æœ¬å·²è¶…è¿‡æˆªæ­¢æ—¥æœŸã€‚è¯·å¸®åŠ©ç”¨æˆ·ï¼š
1. åˆ†æé€¾æœŸåŸå› ï¼ˆä½ä¼°å·¥ä½œé‡ï¼Ÿä¼˜å…ˆçº§é—®é¢˜ï¼Ÿï¼‰
2. è¯„ä¼°æ˜¯å¦å€¼å¾—ç»§ç»­æŠ•å…¥
3. å†³å®šå»¶æœŸã€ç¼©å‡èŒƒå›´è¿˜æ˜¯å½’æ¡£
4. å¦‚æœç»§ç»­ï¼Œè®¾å®šæ–°çš„ç°å®ç›®æ ‡`,
    },
    cooldown: 360,
    enabled: true,
  },

  // ========== ç« èŠ‚é€¾æœŸ ==========
  {
    id: 'chapter-overdue',
    type: 'chapter_overdue',
    condition: {
      metric: 'overdueChaptersCount',
      operator: '>=',
      threshold: 1,
    },
    response: {
      level: 'coach',
      message: 'æœ‰ä¸»çº¿ç« èŠ‚å·²é€¾æœŸ ğŸ“– è¿™å¯èƒ½å½±å“æ•´ä¸ªä¸»çº¿çš„è¿›åº¦ï¼Œæˆ‘ä»¬éœ€è¦é‡æ–°è§„åˆ’ã€‚',
      coachPrompt: `æœ‰ä¸»çº¿ç« èŠ‚å·²è¶…è¿‡æˆªæ­¢æ—¥æœŸã€‚è¯·å¸®åŠ©ç”¨æˆ·ï¼š
1. åˆ†æç« èŠ‚é€¾æœŸçš„å½±å“
2. è¯„ä¼°æ˜¯å¦éœ€è¦è°ƒæ•´ä¸»çº¿ç›®æ ‡
3. é‡æ–°å®‰æ’ç« èŠ‚å†…çš„å‰¯æœ¬ä¼˜å…ˆçº§
4. å¿…è¦æ—¶ç¼©å‡ç« èŠ‚èŒƒå›´`,
    },
    cooldown: 480, // 8å°æ—¶
    enabled: true,
  },

  // ========== DDL å±‚çº§ä¸ä¸€è‡´ ==========
  {
    id: 'deadline-inconsistency',
    type: 'deadline_inconsistency',
    condition: {
      metric: 'inconsistentDeadlinesCount',
      operator: '>=',
      threshold: 1,
    },
    response: {
      level: 'friend',
      message: 'å‘ç°æœ‰äº›æˆªæ­¢æ—¥æœŸä¸å¤ªå¯¹åŠ² ğŸ¤” ä»»åŠ¡çš„ DDL è¶…è¿‡äº†å‰¯æœ¬çš„ DDLï¼Œè¿™å¯èƒ½ä¼šå¯¼è‡´é—®é¢˜ã€‚è¦æˆ‘å¸®ä½ çœ‹çœ‹å—ï¼Ÿ',
      escalateAfter: 60, // 1å°æ—¶åå‡çº§åˆ° Coach
    },
    cooldown: 240,
    enabled: true,
  },

  // ========== ä¸€äºŒä¸‰æ–¹æ³•ï¼šä¸‹åˆ 2 ç‚¹æ£€æŸ¥ ==========
  {
    id: 'one-two-three-afternoon',
    type: 'low_daily_completion',
    condition: {
      metric: 'weightedCompletionRate',
      operator: '<',
      threshold: 50,
      timeWindow: { start: '14:00', end: '14:30' },
    },
    response: {
      level: 'friend',
      message: 'ç°åœ¨ä¸‹åˆ 2 ç‚¹äº†ï¼Œä½ çš„åŠ æƒå®Œæˆç‡è¿˜ä¸åˆ° 50% ğŸ“Š ä»Šå¤©çš„"åˆ›é€ å‹"ä»»åŠ¡å®Œæˆäº†å—ï¼Ÿé‚£æ˜¯ä½ ä»Šå¤© 80% çš„ä»·å€¼ï¼',
      escalateAfter: 60,
    },
    cooldown: 1440, // 24 å°æ—¶ï¼Œæ¯å¤©æœ€å¤šè§¦å‘ä¸€æ¬¡
    enabled: true,
  },

  // ========== ä¸€äºŒä¸‰æ–¹æ³•ï¼šä¸‹åˆ 4 ç‚¹æ£€æŸ¥ ==========
  {
    id: 'one-two-three-late-afternoon',
    type: 'low_daily_completion',
    condition: {
      metric: 'weightedCompletionRate',
      operator: '<',
      threshold: 80,
      timeWindow: { start: '16:00', end: '16:30' },
    },
    response: {
      level: 'coach',
      message: 'ä¸‹åˆ 4 ç‚¹äº†ï¼ŒåŠ æƒå®Œæˆç‡è¿˜ä¸åˆ° 80% âš ï¸ è®©æˆ‘å¸®ä½ çœ‹çœ‹æ¥ä¸‹æ¥åº”è¯¥ä¸“æ³¨ä»€ä¹ˆã€‚',
      coachPrompt: `ç”¨æˆ·ä½¿ç”¨"ä¸€äºŒä¸‰æ–¹æ³•"ï¼š
- 1 ä¸ªåˆ›é€ å‹ä»»åŠ¡ï¼ˆ80% æƒé‡ï¼‰
- 2 ä¸ªç¨æ”¶å‹ä»»åŠ¡ï¼ˆ15% æƒé‡ï¼‰
- 3 ä¸ªç»´æŠ¤å‹ä»»åŠ¡ï¼ˆ5% æƒé‡ï¼‰

ç°åœ¨æ˜¯ä¸‹åˆ 4 ç‚¹ï¼ŒåŠ æƒå®Œæˆç‡ä¸åˆ° 80%ã€‚è¯·å¸®åŠ©ï¼š
1. ç¡®è®¤åˆ›é€ å‹ä»»åŠ¡æ˜¯å¦å®Œæˆï¼ˆæœ€é‡è¦ï¼‰
2. å¦‚æœæœªå®Œæˆï¼Œåˆ†æé˜»ç¢
3. è¯„ä¼°å‰©ä½™æ—¶é—´èƒ½å®Œæˆå¤šå°‘
4. å»ºè®®å–èˆä¼˜å…ˆçº§`,
    },
    cooldown: 1440, // 24 å°æ—¶
    enabled: true,
  },
];

// ========== ç¦»çº¿æ¨¡æ¿ ==========

export const OFFLINE_TEMPLATES = {
  worry_vs_facts: {
    trigger: ['ç„¦è™‘', 'æ‹…å¿ƒ', 'å®³æ€•', 'å‹åŠ›', 'ç´§å¼ '],
    response: `æˆ‘æ³¨æ„åˆ°ä½ å¯èƒ½æœ‰äº›æ‹…å¿§ã€‚è®©æˆ‘ä»¬è¯•è¯• "Worry vs Facts" ç»ƒä¹  ğŸ“

**å†™ä¸‹ä½ çš„æ‹…å¿§**ï¼š
_________________________

**è¿™æ˜¯äº‹å®è¿˜æ˜¯æƒ³è±¡ï¼Ÿ**
- è¿™ä¸ªæ‹…å¿§æœ‰è¯æ®æ”¯æŒå—ï¼Ÿ
- æœ€åçš„æƒ…å†µçœŸçš„ä¼šå‘ç”Ÿå—ï¼Ÿ
- æœ‰æ²¡æœ‰å…¶ä»–å¯èƒ½çš„è§£é‡Šï¼Ÿ

**å¦‚æœæ‹…å¿§æˆçœŸï¼Œä½ èƒ½åšä»€ä¹ˆï¼Ÿ**
- ç¬¬ä¸€æ­¥æ˜¯ä»€ä¹ˆï¼Ÿ
- ä½ ä¹‹å‰æ˜¯æ€ä¹ˆå¤„ç†ç±»ä¼¼æƒ…å†µçš„ï¼Ÿ

**æ­¤åˆ»ä½ å¯ä»¥æ§åˆ¶çš„æ˜¯ä»€ä¹ˆï¼Ÿ**
_________________________

æœ‰æ—¶å€™æŠŠæ‹…å¿§å†™ä¸‹æ¥ï¼Œå°±ä¼šå‘ç°å®ƒæ²¡é‚£ä¹ˆå¯æ€• ğŸ’š`,
  },

  five_minute_start: {
    trigger: ['ä¸æƒ³åš', 'æ‹–å»¶', 'å¤ªéš¾', 'æ²¡åŠ¨åŠ›', 'æ‡’', 'ä¸æƒ³'],
    response: `æˆ‘æ‡‚ï¼Œæœ‰æ—¶å€™å¼€å§‹æ˜¯æœ€éš¾çš„éƒ¨åˆ†ã€‚è¯•è¯• "5 åˆ†é’Ÿèµ·æ­¥æ³•"ï¼Ÿâ±ï¸

**åªæ‰¿è¯º 5 åˆ†é’Ÿ**
- è®¾ä¸ª 5 åˆ†é’Ÿçš„è®¡æ—¶å™¨
- å°±åš 5 åˆ†é’Ÿï¼Œç„¶åå¯ä»¥åœä¸‹æ¥
- æ²¡æœ‰å‹åŠ›ï¼Œæ²¡æœ‰æœŸå¾…

**é€‰ä¸€ä¸ªæœ€å°çš„ç¬¬ä¸€æ­¥**
- æ‰“å¼€æ–‡æ¡£ï¼Ÿ
- å†™ä¸€å¥è¯ï¼Ÿ
- æ‰¾åˆ°éœ€è¦çš„èµ„æ–™ï¼Ÿ

é€šå¸¸ï¼Œå¼€å§‹ä¹‹åä¼šæ¯”æƒ³è±¡ä¸­å®¹æ˜“ã€‚
ä½†å¦‚æœ 5 åˆ†é’Ÿåè¿˜æ˜¯ä¸æƒ³åšï¼Œé‚£ä¹Ÿå®Œå…¨ OK ğŸ‘Œ

ä½ æƒ³è¯•è¯•å—ï¼Ÿ`,
  },

  blocker_checklist: {
    trigger: ['å¡ä½', 'ä¸çŸ¥é“', 'æ€ä¹ˆåŠ', 'å›°æƒ‘', 'è¿·èŒ«'],
    response: `è®©æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹å¸¸è§çš„é˜»ç¢å› ç´  ğŸ”

â–¡ **ä»»åŠ¡å¤ªå¤§ï¼Ÿ** â†’ èƒ½æ‹†æˆæ›´å°çš„æ­¥éª¤å—ï¼Ÿ
â–¡ **ä¸æ¸…æ¥šä¸‹ä¸€æ­¥ï¼Ÿ** â†’ å…·ä½“è¦åšä»€ä¹ˆï¼Ÿ
â–¡ **ç¼ºå°‘ä¿¡æ¯ï¼Ÿ** â†’ éœ€è¦é—®è°æˆ–æŸ¥ä»€ä¹ˆï¼Ÿ
â–¡ **ç²¾åŠ›ä¸è¶³ï¼Ÿ** â†’ éœ€è¦å…ˆä¼‘æ¯ä¸€ä¸‹å—ï¼Ÿ
â–¡ **å®Œç¾ä¸»ä¹‰ï¼Ÿ** â†’ "å®Œæˆ"æ¯”"å®Œç¾"æ›´é‡è¦
â–¡ **å®³æ€•å¤±è´¥ï¼Ÿ** â†’ æœ€åçš„æƒ…å†µæ˜¯ä»€ä¹ˆï¼Ÿ
â–¡ **å¤–éƒ¨ä¾èµ–ï¼Ÿ** â†’ åœ¨ç­‰è°ï¼Ÿèƒ½å‚¬ä¸€ä¸‹å—ï¼Ÿ

å“ªä¸€ä¸ªæœ€ç¬¦åˆä½ çš„æƒ…å†µï¼Ÿ
å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä»¬ä¸€èµ·æƒ³åŠæ³• ğŸ¤`,
  },

  energy_check: {
    trigger: ['ç´¯', 'å›°', 'æ²¡ç²¾ç¥', 'ç–²æƒ«', 'æƒ³ç¡'],
    response: `çœ‹èµ·æ¥ç²¾åŠ›æœ‰ç‚¹ä½ã€‚è®©æˆ‘ä»¬åšä¸ªå¿«é€Ÿæ£€æŸ¥ ğŸ”‹

**èº«ä½“çŠ¶æ€**
- ä¸Šæ¬¡åƒä¸œè¥¿æ˜¯ä»€ä¹ˆæ—¶å€™ï¼Ÿ
- å–å¤Ÿæ°´äº†å—ï¼Ÿ
- éœ€è¦ç«™èµ·æ¥æ´»åŠ¨ä¸€ä¸‹å—ï¼Ÿ

**ä¼‘æ¯éœ€æ±‚**
- æ˜¨æ™šç¡å¤Ÿäº†å—ï¼Ÿ
- éœ€è¦å°ç¡ 15 åˆ†é’Ÿå—ï¼Ÿ
- æˆ–è€…å‡ºå»èµ°èµ°ï¼Ÿ

**è°ƒæ•´è®¡åˆ’**
- ç°åœ¨çš„ç²¾åŠ›é€‚åˆåšä»€ä¹ˆä»»åŠ¡ï¼Ÿ
- æœ‰æ²¡æœ‰æ›´è½»æ¾çš„ä»»åŠ¡å¯ä»¥å…ˆåšï¼Ÿ

æœ‰æ—¶å€™æœ€é«˜æ•ˆçš„åšæ³•æ˜¯å…ˆç…§é¡¾å¥½è‡ªå·± ğŸ’š
ä¼‘æ¯ä¸æ˜¯å·æ‡’ï¼Œæ˜¯ä¸ºäº†æ›´å¥½åœ°å‰è¿›ã€‚`,
  },

  coach_unavailable: {
    trigger: [],
    response: `ğŸ”Œ **Coach æš‚æ—¶ä¸å¯ç”¨**ï¼ˆç½‘ç»œé—®é¢˜ï¼‰

ä¸è¿‡æ²¡å…³ç³»ï¼Œæˆ‘ï¼ˆFriendï¼‰è¿˜åœ¨è¿™é‡Œï¼

ä½ å¯ä»¥ï¼š
1. å‘Šè¯‰æˆ‘ä½ çš„æ„Ÿå—ï¼Œæˆ‘ä¼šå°½åŠ›å¸®å¿™
2. è¯•è¯•ä¸Šé¢çš„è‡ªæˆ‘åˆ†æå·¥å…·
3. ç­‰ç½‘ç»œæ¢å¤åå†å’Œ Coach æ·±å…¥è®¨è®º

ç°åœ¨æœ‰ä»€ä¹ˆæˆ‘èƒ½å¸®åˆ°ä½ çš„å—ï¼Ÿ`,
  },

  encouragement: {
    trigger: ['åšä¸åˆ°', 'å¤±è´¥', 'æ”¾å¼ƒ', 'å¤ªå·®', 'ä¸è¡Œ'],
    response: `å˜¿ï¼Œæˆ‘å¬åˆ°äº†ä½ çš„æŒ«è´¥æ„Ÿ ğŸ’™

è®©æˆ‘æé†’ä½ å‡ ä»¶äº‹ï¼š
- ä½ å·²ç»èµ°åˆ°è¿™é‡Œäº†ï¼Œè¿™æœ¬èº«å°±å¾ˆæ£’
- è¿›æ­¥ä¸æ˜¯ç›´çº¿çš„ï¼Œèµ·ä¼æ˜¯æ­£å¸¸çš„
- ä¸€æ¬¡å¤±è´¥ä¸ä»£è¡¨æ°¸è¿œå¤±è´¥
- ä¼‘æ¯ä¸€ä¸‹ï¼Œç„¶åå†è¯•ä¸€æ¬¡

ä½ æ„¿æ„å‘Šè¯‰æˆ‘å…·ä½“å‘ç”Ÿäº†ä»€ä¹ˆå—ï¼Ÿ
ä¹Ÿè®¸æ¢ä¸ªè§’åº¦çœ‹ï¼Œæƒ…å†µæ²¡é‚£ä¹ˆç³Ÿ ğŸŒŸ`,
  },
};

export type OfflineTemplateKey = keyof typeof OFFLINE_TEMPLATES;

